# NOFX Environment Variables Template
# Copy this file to .env and modify the values as needed

# Ports Configuration
# Backend API server port (internal: 8080, external: configurable)
NOFX_BACKEND_PORT=8080

# Frontend web interface port (Nginx listens on port 80 internally)
NOFX_FRONTEND_PORT=3000

# Timezone Setting
# System timezone for container time synchronization
NOFX_TIMEZONE=Asia/Shanghai

# ============================================================================
# üåê CORS Configuration (Ultra-Friendly Development Mode)
# ============================================================================

# CORS Allowed Origins
# Comma-separated list of frontend URLs allowed to access the backend API
# Default allowed (hardcoded): http://localhost:3000, http://localhost:5173
#
# üéâ NEW: Ultra-Friendly CORS (Development Mode)
# ===============================================
# In development mode (ENVIRONMENT != production), the system is EXTREMELY permissive:
#
# ‚úÖ Automatically allows:
#   - localhost & 127.0.0.1 (any port)
#   - .local domains (e.g., nofx.local, myserver.local - mDNS/Bonjour)
#   - Private IPs (RFC 1918):
#       ‚Ä¢ 192.168.0.0/16 (192.168.0.0 - 192.168.255.255)
#       ‚Ä¢ 10.0.0.0/8     (10.0.0.0 - 10.255.255.255)
#       ‚Ä¢ 172.16.0.0/12  (172.16.0.0 - 172.31.255.255)
#   - Any other origin (logs warning but allows access)
#
# ‚úÖ This means in development:
#   - NO configuration needed for mobile access (192.168.x.x)
#   - NO configuration needed for .local domains
#   - NO configuration needed for ANY local network access
#   - System just logs a warning if origin is not in standard ranges
#
# ‚úÖ Production mode (ENVIRONMENT=production):
#   - Strictly enforces whitelist
#   - Rejects any origin not explicitly listed
#
# When to configure CORS_ALLOWED_ORIGINS?
# ========================================
# 1. Production deployment (ENVIRONMENT=production) - REQUIRED
#    ‚Üí You MUST list all allowed frontend URLs
#
# 2. Want to test production-like strict CORS in dev - OPTIONAL
#    ‚Üí Uncomment and list specific origins
#
# Examples:
# ---------
# Single production domain:
#   CORS_ALLOWED_ORIGINS=https://trading.example.com
#
# Multiple production origins:
#   CORS_ALLOWED_ORIGINS=https://app.example.com,https://admin.example.com
#
# Development + custom domain:
#   CORS_ALLOWED_ORIGINS=http://custom-domain.com:3000
#
# ‚ö†Ô∏è Disable CORS Entirely (Nuclear Option - Unsafe!)
# ===================================================
# For completely isolated internal networks or local testing only:
#   DISABLE_CORS=true
#
# WARNING: This allows ALL origins! Never use in production or internet-facing servers!
#
# For most development scenarios, leave both commented out:
# CORS_ALLOWED_ORIGINS=
# DISABLE_CORS=

# ============================================================================
# üîê Security & Encryption Configuration
# ============================================================================

# Data Encryption Key (REQUIRED)
# Used to encrypt sensitive data (API keys, private keys) stored in database
# Generate with: openssl rand -base64 32
DATA_ENCRYPTION_KEY=PLEASE_GENERATE_YOUR_OWN_KEY_HERE

# Master Key (Optional - for dual encryption)
# If set, provides an additional encryption layer
# NOFX_MASTER_KEY=

# JWT Secret (for user authentication)
# Generate with: openssl rand -base64 64
# JWT_SECRET=

# CSRF Protection (Cross-Site Request Forgery)
# Protects against Cross-Site Request Forgery attacks
# When enabled, all POST/PUT/DELETE requests require a valid CSRF token
#
# Options:
#   false - Disabled (recommended for development, eliminates Docker warnings)
#   true  - Enabled (recommended for production environments)
#
# Default: false (if not set, system assumes disabled but Docker shows warning)
# To eliminate the warning, explicitly set to 'false':
ENABLE_CSRF=false
#
# For production, change to:
# ENABLE_CSRF=true

# ============================================================================
# üìä Market Data API Configuration (Optional - Free Tier)
# ============================================================================

# Alpha Vantage API Key (Optional)
# Used for US stock market data (S&P 500 status) to enhance AI decision context
# Free tier: 500 API calls/day (sufficient for trading bot usage)
# Register free API key at: https://www.alphavantage.co/support/#api-key
# If not set, the system will skip US stock data (VIX and Binance data still work)
# ALPHA_VANTAGE_API_KEY=

